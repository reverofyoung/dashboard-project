{"ast":null,"code":"import _regeneratorRuntime from\"/Users/a260/dev/myProject/react-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/a260/dev/myProject/react-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/a260/dev/myProject/react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/a260/dev/myProject/react-project/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import{useEffect,useState}from\"react\";import styled,{css}from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AlignCenter=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"])));var MainContent=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  box-sizing: border-box; \\n  height: 100%;\\n  padding: 40px;\\n  width: 33.3%;\\n  border-right: 1px solid black;\\n\"])));var InnerContentBox=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 28px;\\n  height: 33.3%;\\n  width: 100%;\\n\"])));var HorizontalAlign=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  display: flex;\\n  justify-content: space-between;\\n\"])));var InputArea=styled.input(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  border-width: 0px 0px 1px 0px;\\n  font-size: 26px;\\n  height: 60px;\\n  width: 70%;\\n\"])));var InputButton=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  \",\"\\n  border: 1px solid black;\\n  border-radius: 10px;\\n  font-size: 22px;\\n  height: 30px;\\n  width: 20%;\\n  min-width: 60px;\\n\\n  &:hover {\\n    background-color: black;\\n    color: white;\\n  };\\n\"])),AlignCenter);var UserNameArea=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: userName !== '' ? flex : none;\\n  font-size: 30px;\\n\"])));function GreetingPart(){var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),currWeather=_useState4[0],setCurrWeather=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userName=_useState6[0],setUserName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var getCurrentLocation=function getCurrentLocation(){// 현재 위치 가져오기\nnavigator.geolocation.getCurrentPosition(function(position){var latitude=position.coords.latitude;var longitude=position.coords.longitude;getWeatherByCurrentLocation(latitude,longitude);});};// 현재 위치 날씨 API 가져오기\nvar getWeatherByCurrentLocation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(latitude,longitude){var WEATHER_API_KEY,WEATHER_API_URL,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:WEATHER_API_KEY='739cddaed6d840ce7ff865f1c8296393';WEATHER_API_URL=\"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(latitude,\"&lon=\").concat(longitude,\"&exclude={part}&appid=\").concat(WEATHER_API_KEY,\"&units=metric&lang=kr\");_context.next=4;return fetch(WEATHER_API_URL);case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;setCurrWeather(data.current);case 9:case\"end\":return _context.stop();}},_callee);}));return function getWeatherByCurrentLocation(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(function(){getCurrentLocation();getWeatherByCurrentLocation();},[]);useEffect(function(){var id=setInterval(function(){setTime(new Date());},1000);return function(){return clearInterval(id);}// 불필요한 작업 방지\n;},[]);var getUserName=function getUserName(e){setUserName(e.target.value);};var submitUserName=function submitUserName(e){e.preventDefault();if(userName===''){alert('입력창이 비었네요!');}else{setUser(userName);setUserName('');}};return/*#__PURE__*/_jsxs(MainContent,{children:[/*#__PURE__*/_jsx(InnerContentBox,{children:user!==''?/*#__PURE__*/_jsx(HorizontalAlign,{children:/*#__PURE__*/_jsxs(UserNameArea,{children:[user,\"\\uB2D8 \",/*#__PURE__*/_jsx(\"br\",{}),\"\\uC548\\uB155\\uD558\\uC138\\uC694!\"]})}):/*#__PURE__*/_jsxs(HorizontalAlign,{children:[/*#__PURE__*/_jsx(InputArea,{onChange:getUserName,placeholder:\"\\uC774\\uB984\",value:userName}),/*#__PURE__*/_jsx(InputButton,{onClick:submitUserName,children:\"\\uC800\\uC7A5\"})]})}),/*#__PURE__*/_jsxs(InnerContentBox,{children:[\"\\uC624\\uB298\\uC740 \",time.toLocaleDateString(),/*#__PURE__*/_jsx(\"br\",{}),\"\\uD604\\uC7AC\\uC2DC\\uAC04\\uC740 \",time.toLocaleTimeString(),\" \\uC785\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsxs(InnerContentBox,{children:[\"\\uD604\\uC7AC \\uB0A0\\uC528\\uB294 \",currWeather===null||currWeather===void 0?void 0:currWeather.temp,\"\\u2103\\uB85C \",currWeather===null||currWeather===void 0?void 0:currWeather.weather[0].description,\" \\uC774\\uC5D0\\uC694\"]})]});}export default GreetingPart;","map":{"version":3,"names":["useEffect","useState","styled","css","jsx","_jsx","jsxs","_jsxs","AlignCenter","_templateObject","_taggedTemplateLiteral","MainContent","div","_templateObject2","InnerContentBox","_templateObject3","HorizontalAlign","_templateObject4","InputArea","input","_templateObject5","InputButton","_templateObject6","UserNameArea","_templateObject7","GreetingPart","_useState","Date","_useState2","_slicedToArray","time","setTime","_useState3","_useState4","currWeather","setCurrWeather","_useState5","_useState6","userName","setUserName","_useState7","_useState8","user","setUser","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","getWeatherByCurrentLocation","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","WEATHER_API_KEY","WEATHER_API_URL","response","data","wrap","_callee$","_context","prev","next","concat","fetch","sent","json","current","stop","_x","_x2","apply","arguments","id","setInterval","clearInterval","getUserName","e","target","value","submitUserName","preventDefault","alert","children","onChange","placeholder","onClick","toLocaleDateString","toLocaleTimeString","temp","weather","description"],"sources":["/Users/a260/dev/myProject/react-project/src/components/GreetingPart.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nconst AlignCenter = css`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst MainContent = styled.div`\n  box-sizing: border-box; \n  height: 100%;\n  padding: 40px;\n  width: 33.3%;\n  border-right: 1px solid black;\n`;\n\nconst InnerContentBox = styled.div`\n  font-size: 28px;\n  height: 33.3%;\n  width: 100%;\n`;\n\nconst HorizontalAlign = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst InputArea = styled.input`\n  border-width: 0px 0px 1px 0px;\n  font-size: 26px;\n  height: 60px;\n  width: 70%;\n`;\n\nconst InputButton = styled.div`\n  ${ AlignCenter }\n  border: 1px solid black;\n  border-radius: 10px;\n  font-size: 22px;\n  height: 30px;\n  width: 20%;\n  min-width: 60px;\n\n  &:hover {\n    background-color: black;\n    color: white;\n  };\n`;\n\nconst UserNameArea = styled.div`\n  display: userName !== '' ? flex : none;\n  font-size: 30px;\n`;\n\nfunction GreetingPart() {\n    const [time, setTime] = useState(new Date());\n    const [currWeather, setCurrWeather] = useState(null);\n    const [userName, setUserName] = useState('');\n    const [user, setUser] = useState('');\n  \n    const getCurrentLocation = () => {\n      // 현재 위치 가져오기\n      navigator.geolocation.getCurrentPosition((position) => {\n        let latitude = position.coords.latitude;\n        let longitude = position.coords.longitude;\n  \n        getWeatherByCurrentLocation(latitude, longitude);\n      });\n    };\n  \n     // 현재 위치 날씨 API 가져오기\n     const getWeatherByCurrentLocation = async (latitude, longitude) => {\n      let WEATHER_API_KEY = '739cddaed6d840ce7ff865f1c8296393';\n      let WEATHER_API_URL = `https://api.openweathermap.org/data/2.5/onecall?lat=${latitude}&lon=${longitude}&exclude={part}&appid=${WEATHER_API_KEY}&units=metric&lang=kr`;\n      let response = await fetch(WEATHER_API_URL);\n      let data = await response.json();\n      setCurrWeather(data.current);\n    };\n  \n    useEffect(() => {\n      getCurrentLocation();\n      getWeatherByCurrentLocation();\n        \n    }, []);\n  \n    useEffect(() => {\n      const id = setInterval(() => {\n        setTime(new Date());\n      }, 1000);\n  \n      return (() => \n        clearInterval(id) // 불필요한 작업 방지\n      ); \n    }, []);\n  \n    const getUserName = (e) => {\n      setUserName(e.target.value);\n    };\n  \n    const submitUserName = (e) => {\n      e.preventDefault();\n      if(userName === '') {\n          alert('입력창이 비었네요!');\n      } else {\n        setUser(userName);\n        setUserName('');\n      }\n    };\n\n    return (\n      <MainContent>\n        <InnerContentBox>\n        {\n          user !== '' ? \n          <HorizontalAlign>\n            <UserNameArea>{ user }님 <br />안녕하세요!</UserNameArea>\n          </HorizontalAlign> : \n          <HorizontalAlign>\n            <InputArea \n              onChange={ getUserName } \n              placeholder=\"이름\" \n              value={ userName } \n            />\n            <InputButton onClick={ submitUserName }>저장</InputButton>\n          </HorizontalAlign>\n        }\n        </InnerContentBox>\n        <InnerContentBox>\n          오늘은 { time.toLocaleDateString() }\n          <br />\n          현재시간은 { time.toLocaleTimeString() } 입니다.\n        </InnerContentBox>\n        <InnerContentBox>\n          현재 날씨는 { currWeather?.temp }℃로 { currWeather?.weather[0].description } 이에요\n        </InnerContentBox>\n      </MainContent>\n     \n    );\n\n}\n\nexport default GreetingPart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}